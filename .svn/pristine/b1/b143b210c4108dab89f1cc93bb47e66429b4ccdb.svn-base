<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.ddit.kixiv.tagList.mapper.TagListDao">
	<insert id="tagListIns" >
		INSERT INTO taglist
		(tag_seq, tag_id, board_id)
		VALUES((select NVL(MAX(tag_seq),0) +1 from taglist), #{tag_id}, #{board_id})
	</insert>
	
	<select id="tagData" resultType="kr.ddit.kixiv.tagList.vo.TagAllVo">
	
		 SELECT T.TAG_ID, T.TAG_SEQ ,T.TAG_NAME, T.DEL_YN 
		 FROM(
		    SELECT a.TAG_ID, a.TAG_SEQ ,b.TAG_NAME, b.DEL_YN, a.board_id 
		    FROM TAGLIST a, TAG b
		    where a.TAG_ID = b.TAG_ID
		    ) T
	    WHERE BOARD_ID = #{board_id}
	    
	</select>
</mapper>