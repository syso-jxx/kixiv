<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<!DOCTYPE HTML>
<head>
	<title>KIXIV - 세상의 모든 사진</title>
	<meta charset="utf-8">
	<script src="/resources/asset/js/jquery.min.js"></script>
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<%@include file="include/option.jsp" %>
	
	<style>
		td, th {
			text-align: center;
		}
		
		tr{
			height: 15px;
		}
		
		th {
			font-size: 1.2em;
		}
		
		td:nth-child(1), th:nth-child(1) {
			width: 5%;
		}
		
		td:nth-child(2), th:nth-child(2) {
			width: 30%;
		}
		
		td:nth-child(3), th:nth-child(3) {
			width: 15%;
		}
		
		select{
			border:1px solid #ced4da;
			height: 38px;
 			border-radius:7%; 
		}
		#insert_list .drop_the_text input{
		  background: #343a40;
		  background-image: url('https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbEIOHH%2Fbtq8reXoCbL%2Fl78C3cWW5KpLAEySFIQpk0%2Ftfile.svg');
		  background-position: right;
/* 		  padding-left: 40px; */
/* /* 		  border: 1px solid #2e3238; */
/* 		  width: 100%; */
/* 		  height: 30px; */
		  box-sizing: border-box;
		  outline: none;
/* 		  border-radius: 3px; */
		}
	</style>
	
</head>

<body>
	<%@include file="include/header.jsp" %>
	<section class="container overflow-hidden py-5">
	<h1 class="text-dark h1" style="text-align:left;">갤러리 렌트 목록</h1>
		<br/>
		<div class="input-group mb-3"> 
			<input type="text" name="keyword" class="form-control col-sm-10" value="${galleryRentList.keyword}">
			<div class="input-group-append">
				<button type="button" class="btn btn-outline-secondary" id="searchBtn">search</button>
			</div>
		</div>
		<div>
			<!-- 테이블 시작 -->
			<form action="myGalleryRentReceipt" method="POST">
			<table class="table table-sm table-hover">
				<thead>
					<tr>
						<th scope="col">No.</th>
						<th scope="col">갤러리명</th>
						<th scope="col">예약일자</th>
						<th scope="col">상태</th>
					</tr>
				</thead>
				<tbody>
					<c:choose>
						<c:when test="${galleryRentVO.size() > 0}">
							<c:forEach var="gallery" items="${galleryRentVO}" varStatus="st">
								<tr>
									<td style="text-align:center; width:8%; vertical-align: middle;" scope="col">
										${st.count}
										<input type="hidden" name="rent_imp_uid" value="${gallery.rent_imp_uid}">
										<input type="hidden" name="rent_num" value="${gallery.rent_num}">
									</td>
									<td style="text-align:center; width:52%;vertical-align: middle;" scope="col">${gallery.gallery_name}</td>
									<td style="text-align:center; width:30%;vertical-align: middle;" scope="col"><fmt:formatDate pattern="yyyy-MM-dd" value="${gallery.rent_req_date}" /></td>
									<c:choose>
										<c:when test="${gallery.cancel_yn eq 'n'}">
											<td style="text-align:center; vertical-align: middle; width:10%;" scope="col">
												<button style="all:unset; text-decoration: underline; cursor:pointer;" type="submit">결제완료</button>
											</td>
										<a></a>
										</c:when>
										<c:otherwise>
											<td style="text-align:center; vertical-align: middle; width:10%;" scope="col">
												<button style="all:unset; text-decoration: underline; cursor:pointer;" type="submit">환불완료</button>
											</td>
										</c:otherwise>
									</c:choose>
								</tr>
							</c:forEach>
						</c:when>
						<c:otherwise>
							<tr>
								<td colspan="6" rowspan="10">데이터가 없습니다.</td>
							</tr>
						</c:otherwise>
					</c:choose>
				</tbody>				
			</table>
			</form>
		</div>
	</section>
	
	<section class="ftco-section">
		<!-- 페이징 시작 -->
		<div class="col-md-offset-3">
			<ul class="pagination justify-content-center">
				<c:if test="${myRentReqList.startPage > 5}">
					<li class="page-item">
						<a class="page-link" href="/myGalleryRentReqList?pageNum=${myRentReqList.startPage-5}">이전</a>
					</li>
				</c:if>

				<c:forEach begin="${myRentReqList.startPage}" end="${myRentReqList.endPage}" var="idx">
					<li class="page-item"><a class="page-link" href="/myGalleryRentReqList?pageNum=${idx}">${idx}</a></li>
				</c:forEach>

				<c:if test="${myRentReqList.endPage < myRentReqList.totalPages}">
					<li class="page-item">
						<a class="page-link" href="/myGalleryRentReqList?pageNum=${myRentReqList.startPage+5}">다음</a>
					</li>
				</c:if>
			</ul>
		</div>
	</section>
	
	<footer style="position:absolute;width:100%;top:900px;">
		<%@include file="include/footer.jsp" %>
	</footer>
	<script>

	</script>
</body>
</html>